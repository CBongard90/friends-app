<%if user_signed_in? %>
  <h1>Friend List</h1>
  <table class="table table-striped table-hover table-bordered">
    <thead class="table-dark">
      <tr>
        <th></th>
        <th>Full name</th>
        <th>Phone</th>
        <th>Email</th>
        <th>Twitter</th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <% @friends.each do |friend| %>
        <%if friend.user == current_user %>
        <tr>
          <td><%= image_tag(friend.image ,:class => "friend_profile_picture small") %></td>
          <td><%= link_to friend.first_name+" "+friend.last_name, friend %></td>
          <td><%= friend.phone %></td>
          <td><%= friend.email %></td>
          <td><%= friend.twitter %></td>
          
          <%# if friend.user == current_user This method has a lot of possible bypass which makes the code easily hackable%>
          <td><%= link_to 'Destroy', friend, method: :delete, data: { confirm: "Do you wish to remove " + friend.first_name + " "+ friend.last_name + " to your friend's list?" },class:"btn btn-outline-danger btn-sm" %></td>
          <%#end%>
        </tr>
        <% end %>
      <% end %>
    </tbody>
  </table>

  <br>

  <%= link_to 'New Friend', new_friend_path,class:"btn btn-secondary" %>
<%else%>
<h1>Hello World</h1>
<p>Welcome to my very first Rails page</p>
<%end%>